{"meta":{"title":"gowork的博客","subtitle":"gowork 的博客","description":"gowork在技术学习及使用过程中的一些积累","author":"gowork","url":"http://www.gowork.top"},"pages":[{"title":"gowork","date":"2017-11-02T09:16:28.000Z","updated":"2017-11-02T09:16:28.000Z","comments":true,"path":"about/index.html","permalink":"http://www.gowork.top/about/index.html","excerpt":"","text":"08年就读于三峡大学本科，12年毕业来到上海工作至今。 本科是数学与应用数学专业，毕业后一直从事软件开发工作，主要使用java进行开发，对java常用的框架struts2、spring、mybatis、springboot都比较熟悉；前端开发也有所认识比如bootstrap、vue等；曾经跟同事修复过c#相关软件的bug，所以桌面开发也有所了解。"},{"title":"分类","date":"2017-11-02T08:49:00.000Z","updated":"2017-11-02T08:49:00.000Z","comments":false,"path":"categories/index.html","permalink":"http://www.gowork.top/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2017-11-02T08:49:17.000Z","updated":"2017-11-02T08:49:17.000Z","comments":true,"path":"tags/index.html","permalink":"http://www.gowork.top/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"elemnt-ui table组件的标题可选方案","slug":"hello-element-ui-table-changeable","date":"2017-11-26T02:13:07.000Z","updated":"2017-11-26T03:34:33.000Z","comments":true,"path":"hello-element-ui-table-changeable/","link":"","permalink":"http://www.gowork.top/hello-element-ui-table-changeable/","excerpt":"前几天在使用element-ui组件的时候有一个需求比较特别，就是table组件使用时列数太多，显示的时候需要左右拉动才能显示全，那就只有一个方法可以解决此问题，那就是将table的列可选；but官网木有此项，如何办？活人还能被尿憋死吗，在官方基础上自己造。","text":"前几天在使用element-ui组件的时候有一个需求比较特别，就是table组件使用时列数太多，显示的时候需要左右拉动才能显示全，那就只有一个方法可以解决此问题，那就是将table的列可选；but官网木有此项，如何办？活人还能被尿憋死吗，在官方基础上自己造。 将官方的例子改造，每列选项属性组成集合循环，而不是一一设置，demo顶千言。直接上例子 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;template&gt;&lt;el-row :gutter=&quot;3&quot;&gt; &lt;el-col :span=&quot;4&quot; v-for=&quot;col in cols&quot; :key=&quot;col.prop&quot;&gt; &lt;el-switch v-model=&quot;col.is_show&quot;&gt;&lt;/el-switch&gt;&#123;&#123;col.label&#125;&#125; &lt;/el-col&gt;&lt;/el-row&gt;&lt;el-table v-loading.body=&quot;loading&quot; :data=&quot;tableData&quot; stripe style=&quot;width: 100%;margin-top: 10px&quot; @selection-change=&quot;handleSelectionChange&quot;&gt; &lt;el-table-column type=&quot;selection&quot;&gt;&lt;/el-table-column&gt; &lt;el-table-column type=&quot;index&quot;&gt;&lt;/el-table-column&gt; &lt;template v-for=&quot;col in cols&quot; v-if=&quot;col.is_show&quot;&gt; &lt;el-table-column v-if=&quot;col.type===&apos;normal&apos;&quot; sortable :prop=&quot;col.prop&quot; :label=&quot;col.label&quot; :key=&quot;col.prop&quot;&gt;&lt;/el-table-column&gt; &lt;el-table-column v-if=&quot;col.type===&apos;sort&apos; &amp; col.prop!==&apos;operate&apos;&quot; :label=&quot;col.label&quot; :key=&quot;col.prop&quot; fixed=&quot;right&quot;&gt; &lt;template slot-scope=&quot;scope&quot;&gt; &lt;el-tag type=&quot;primary&quot; v-if=&quot;col.prop===&apos;verif_img&apos;&quot;&gt;&lt;img :src=&quot;scope.row.verif_img&quot; style=&quot;width:60px;height:20px&quot;/&gt;&lt;/el-tag&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;el-table-column v-if=&quot;col.prop===&apos;operate&apos;&quot; :label=&quot;col.label&quot; :key=&quot;col.prop&quot;&gt; &lt;template slot-scope=&quot;scope&quot;&gt; &lt;el-button size=&quot;small&quot; @click=&quot;handleEdit(scope.row.id)&quot;&gt;编辑&lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;/template&gt;&lt;/el-table&gt; &lt;/template&gt;&lt;script&gt;export default &#123; data() &#123; return &#123; loading: false, cols:[ &#123;type:&apos;normal&apos;, is_show:true , prop: &apos;date&apos;, label: &apos;日期&apos;&#125;, &#123;type:&apos;normal&apos;, is_show:true , prop: &apos;name&apos;, label:&apos;姓名&apos;&#125;, &#123;type:&apos;normal&apos;, is_show:true , prop: &apos;age&apos;, label:&apos;年龄&apos;&#125;, &#123;type:&apos;normal&apos;, is_show:false, prop: &apos;address&apos;, label:&apos;地址&apos;&#125;, &#123;type:&apos;sort&apos; , is_show:false, prop: &apos;verif_img&apos;, label:&apos;验证图&apos;&#125;, &#123;type:&apos;normal&apos;, is_show:false, prop: &apos;verif_result&apos;, label:&apos;登录验证&apos;&#125;, &#123;type:&apos;sort&apos; , is_show:true , prop: &apos;operate&apos;, label: &apos;操作&apos;&#125; ], tableData: [&#123;id: 1,date:&apos;2017-11-22&apos;, name:&apos;张三&apos;, age:12, address:&apos;上海市杨浦区五角场&apos;, verif_img:&apos;http://on90cf3na.bkt.clouddn.com/17-11-26/397343.jpg&apos;, verif_result:&apos;2907&apos;&#125;, &#123;id: 2,date:&apos;2017-11-23&apos;, name:&apos;李四&apos;, age:13, address:&apos;上海市杨浦区江湾体育场&apos;, verif_img:&apos;http://on90cf3na.bkt.clouddn.com/17-11-26/397343.jpg&apos;, verif_result:&apos;2971&apos;&#125;] &#125; &#125;, methods:&#123; handleSelectionChange(val)&#123; &#125;, handleEdit(id)&#123; &#125; &#125;&#125;&lt;/script&gt; 上面例子基本涵盖table常用场景，可以尽情使用","categories":[{"name":"工具","slug":"tools","permalink":"http://www.gowork.top/categories/tools/"}],"tags":[{"name":"element-ui","slug":"element-ui","permalink":"http://www.gowork.top/tags/element-ui/"},{"name":"table","slug":"table","permalink":"http://www.gowork.top/tags/table/"}]},{"title":"python排序","slug":"python-sorted","date":"2017-11-21T08:11:55.000Z","updated":"2017-11-21T14:54:42.000Z","comments":true,"path":"python-sorted/","link":"","permalink":"http://www.gowork.top/python-sorted/","excerpt":"最近在做一个算法时候用到很多python的排序，之前没有注意过，与想象中的不太一样。","text":"最近在做一个算法时候用到很多python的排序，之前没有注意过，与想象中的不太一样。 常见的排序有sort、sorted两种，以下是在python2.7环境下运行的 sort 123456789&gt;&gt;&gt; a = [1, 4, 3, 2] # 从小到大排序&gt;&gt;&gt; a.sort()&gt;&gt;&gt; print a[1, 2, 3, 4]# 从大到小排序&gt;&gt;&gt; a.sort(reverse=True)&gt;&gt;&gt; print a[4, 3, 2, 1] sorted 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758&gt;&gt;&gt; a = [1, 4, 3, 2]&gt;&gt;&gt; b = ['aa', 'BB', 'cc', 'zz', 'DD']&gt;&gt;&gt; c = ['aaa', 'bb', 'C', 'dddd']&gt;&gt;&gt; d = [&#123;'name':'张三','age':20&#125;, &#123;'name':'王五','age':10&#125;,&#123;'name':'李四','age':15&#125;]# 从小到大排序&gt;&gt;&gt; print sorted(a)[1, 2, 3, 4]# 从大到小排序&gt;&gt;&gt; print sorted(a, reverse=True)[4, 3, 2, 1]# 按ascii码从小到大排序&gt;&gt;&gt; print sorted(b)['BB', 'DD', 'aa', 'cc', 'zz']# 按ascii码从大到小排序&gt;&gt;&gt; print sorted(b, reverse=True)['zz', 'cc', 'aa', 'DD', 'BB']# 按列表的元素的长度排序 &gt;&gt;&gt; print sorted(c, key=len)['C', 'bb', 'aaa', 'dddd']# 按小写字母的ascii码从小到大&gt;&gt;&gt; print sorted(c, key=str.lower)['aaa', 'bb', 'C', 'dddd']# 自定义函数进行排序，最后一个字母ascii从小到大&gt;&gt;&gt; def last_char(s):... return s[-1]print sorted(c, key = last_char)['C', 'aaa', 'bb', 'dddd']# 匿名函数排序&gt;&gt;&gt; print sorted(c, key = lambda x:x[-1])['C', 'aaa', 'bb', 'dddd']# 字典列表进行排序&gt;&gt;&gt; def age(s):... return s['age']&gt;&gt;&gt; print sorted(d, key = age)[&#123;'age': 10, 'name': '\\xe7\\x8e\\x8b\\xe4\\xba\\x94'&#125;, &#123;'age': 15, 'name': '\\xe6\\x9d\\x8e\\xe5\\x9b\\x9b'&#125;, &#123;'age': 20, 'name': '\\xe5\\xbc\\xa0\\xe4\\xb8\\x89'&#125;]&gt;&gt;&gt; print sorted(d, key = lambda x:x['age'])[&#123;'age': 10, 'name': '\\xe7\\x8e\\x8b\\xe4\\xba\\x94'&#125;, &#123;'age': 15, 'name': '\\xe6\\x9d\\x8e\\xe5\\x9b\\x9b'&#125;, &#123;'age': 20, 'name': '\\xe5\\xbc\\xa0\\xe4\\xb8\\x89'&#125;]# 对象列表排序，可以对多个属性进行排序&gt;&gt;&gt; class Person(object):... def __init__(self, name, age):... self.name=name... self.age = age... def __repr__(self):... return repr((self.name,self.age))...&gt;&gt;&gt; f = [Person('张三',20),Person('王五',10), Person('李四',15)]&gt;&gt;&gt; print sorted(f, key=operator.attrgetter('age', 'name'))[('\\xe7\\x8e\\x8b\\xe4\\xba\\x94', 10), ('\\xe6\\x9d\\x8e\\xe5\\x9b\\x9b', 15), ('\\xe5\\xbc\\xa0\\xe4\\xb8\\x89', 20)] 注：sort会改变数据的原始结构，而sorted不会改变；对于字典列表的多key排序暂时没有解决办法，只能只能用转换为对象的集合，然后进行排序，如果你有好的解决办法望告知！","categories":[{"name":"python","slug":"python","permalink":"http://www.gowork.top/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.gowork.top/tags/python/"},{"name":"排序","slug":"sort","permalink":"http://www.gowork.top/tags/sort/"}]},{"title":"django初识","slug":"hello-django","date":"2017-11-16T13:23:20.000Z","updated":"2017-11-17T10:30:21.000Z","comments":true,"path":"hello-django/","link":"","permalink":"http://www.gowork.top/hello-django/","excerpt":"Python下有许多款不同的 Web 框架。Django是重量级选手中最有代表性的一位。许多成功的网站和APP都基于Django。 Django是一个开放源代码的Web应用框架，由Python写成。 Django遵守BSD版权，初次发布于2005年7月, 并于2008年9月发布了第一个正式版本1.0 。 Django采用了MVC的软件设计模式，即模型M，视图V和控制器C。","text":"Python下有许多款不同的 Web 框架。Django是重量级选手中最有代表性的一位。许多成功的网站和APP都基于Django。 Django是一个开放源代码的Web应用框架，由Python写成。 Django遵守BSD版权，初次发布于2005年7月, 并于2008年9月发布了第一个正式版本1.0 。 Django采用了MVC的软件设计模式，即模型M，视图V和控制器C。 djangodjango的目录结构12345678910111213projectName projectName __init__.py settings.py urls.py apps app1 app2 log media static templates manage.py 常见命令 新建 project 1django-admin.py startproject project_name 新建 app 12python manage.py startapp app_name或 django-admin.py startapp app_name 将多个app放在同一个apps文件夹中，这样会比较清楚规范 项目右键new–&gt;python package-&gt;apps apps的文件夹右击–&gt;选择mark directory as—&gt;选择sources root-&gt;点击run 在setting.py中添加设置 sys.path.insert(0,os.path.join(BASE_DIR,&#39;apps&#39;)) 创建数据库表 1234# 1. 创建更改的文件python manage.py makemigrations# 2. 将生成的py文件应用到数据库python manage.py migrate 创建超级管理员 1234python manage.py createsuperuser# 用户名和密码必填# 修改 用户密码可以用：python manage.py changepassword username 导出数据 导入数据 12python manage.py dumpdata appname &gt; appname.jsonpython manage.py loaddata appname.json Django 项目环境终端 1python manage.py shell 与直接使用python进入shelld的区别是你可以在这个 shell 里面调用当前项目的 models.py 中的 API 数据库命令行 1python manage.py dbshell 更多命令 1终端输入 python manage.py 可以看到详细的列表 django 语言支持1.7之前，需要设置LANGUAGE_CODE = &#39;zh_CN&#39;在1.7以上，django的中文需要设置LANGUAGE_CODE = &#39;zh_Hans&#39; django 模块 xadmin 后台管理系统的界面需要添加django_crispy_forms不然会报错 ‘django_captcha’, # 验证码 ‘django_pure_pagination’, # 分页 django ORM 获取models中choices的显示，可以在页面中这样取值object.get_fieldname_display来获取 举个🌰： 12class Course(models.Model): degree = models.CharField(max_length=10, choices=(('junior', '初级'), ('middle', '中级'), ('senior', '高级')), verbose_name='课程等级') 1&#123;&#123;course.get_degree_display&#125;&#125; 反向获取参考外键的数据，可以使用_set.all()来获取 举个🌰： 12345678910111213class Course(models.Model): \"\"\"课程 \"\"\" ... def get_zj_nums(self): return self.lesson_set.all().count()class Lesson(models.Model): \"\"\"课程章节 \"\"“ course = models.ForeignKey(Course, verbose_name='课程') ... 判断用户是否登录 1request.user.is_authenticated() 页面url， url 'course:list' course.id%&#125; ```12345678910111213141516171819205. django 的form表单验证6. ajax请求 在js中写下如下内容，django默认有csrf验证，所以下面代码需要添加在html中 ```javascript $.ajax(&#123; cache:false, type:&apos;POST&apos;, url:&apos;&apos;, data:&#123;&#125;, async:true, beforeSend:function(xhr,settings)&#123; xhr.setRequestHeader(’X-CSRFToken‘,&apos;&#123;&#123;csrf_token&#125;&#125;&apos;); &#125;, success:function(data)&#123; &#125; &#125;) python后台中 12from django.http import HttpResponsereturn HttpResponse(&apos;jsonStr&apos;,content_type=&apos;application/json&apos;) 上传文件的地址media 在settings.py中设置 123ME DIA_URL = &apos;/media/&apos;MEDIA_ROOT = os.path.join(BASE_DIR,&apos;media&apos;) 然后在html中引用 1&lt;img src=&quot;&#123;&#123;MEDIA_URL&#125;&#125;&#123;&#123;course.img&#125;&#125;&quot;&gt; 过滤包含外键id的值 可以用_来连接外键的字段，__来连接使用ORM方法 举个🌰： 12user_ids = [user_course.user.id for user_course in user_courses]all_user_courses = UserCourse.object.filter(user_id__in=user_ids) 数据迁移 123makemigrations 将数据模型变更制作一个迁移migrate 执行迁移sqlmigrate 展示迁移的SQL语句 数据模型 12345678class OfficialUrl(models.Model): createTime = models.DateTimeField(auto_now_add=True) url = models.CharField(max_length=500, null=True, blank=True) class Meta: verbose_name = &apos;官方地址&apos; verbose_name_ plural = verbose_name db_table = &apos;official_url&apos; verbose_name_plural是后台设置时显示的复数 查询 User.objects.all() User.objects.filter(name=’’, age=’’) 取出一条 12if all_message: message = all_messages[0] 保存 save() 123user = User()user.name = &apos;张三&apos;user.save() 删除 delete() django view 处理请求的两种方式 函数处理请求 在urls.py中写入 在views.py中写入 class处理请求 在urls.py中写入 12345678# _*_ coding: UTF-8 _*_from django.conf.urls import urlimport viewsurlpatterns = [ url(r&apos;^list$&apos;, views.CourseListView.as_view(), name=&apos;course_list&apos;)] 在views.py中写入 登录权限验证的view 不用class的情况下，方法加上装饰器@login_required即可，但是在使用class创建view的情况下，需要使用到继承来处理这种情况，先创建登录权限类 12345678910# _*_ coding: UTF-8 _*_from django.contrib.auth.decorators import login_requiredfrom django.utils.decorators import method_decoratorclass LoginRequiredMixin(object): @method_decorator(login_required(login_url='/login/')) def dispatch(self, request, *args, **kwargs): return super(LoginRequiredMixin, self).dispatch(request, *args, **kwargs) 然后在view中继承 12class CourseAddView(LoginRequiredMixin, View): ... django虚拟环境virtualenv与virtualenvwrapper 虚拟virtualenv 与virtualenvwrapper 创建虚拟环境 1mkvirtualenv 虚拟环境目录 创建完成后自动进入虚拟环境 退出虚拟环境 1deactivate 查看已经建立的虚拟环境 1workon 进入某个虚拟环境 1workon 虚拟环境目录 虚拟环境添加包 进入虚拟环境后使用pip进行操作，操作方法参照pip命令 ​ 使用pyenv及pyenv-virtualenvwrapper 安装pyenv及pyenv-virtualenvwrapper 命令行执行 1brew install pyenv 、brew install pyenv-virtualenv 安装完在~目录下的.bash_profile文件加上以下内容 123export PYENV_ROOT=/usr/local/var/pyenvif which pyenv &gt; /dev/null; then eval &quot;$(pyenv init -)&quot;; fiif which pyenv-virtualenv-init &gt; /dev/null; then eval &quot;$(pyenv virtualenv-init -)&quot;; fi 说明：PYENV_ROOT为pyenv的环境目录 可自行创建目录 pyenv的使用 12345pyenv versions：查看当前pyenv下的所有python版本.pyenv install --list：列出所有可以下载的python版本.pyenv install 版本号：下载并安装python版本，eg：python install 2.7.12，版本号可根据上一条命令获取.python global 版本号：切换当前默认的python版本，全局有效.python local 版本号：切换当前默认的python版本，当前用户有效. pyenv-virtualenv的使用 1234pyenv virtualenv 2.7.12 python2_7_12：创建名为python2_7_12的虚拟环境，对应的版本为2.7.12pyenv activate python2_7_12：切换到python2_7_12虚拟环境pyenv deactivate：退回系统环境pyenv virtualenvs 显示所有虚拟环境 django 静态文件处理1234STATIC_URL = &apos;/static/&apos; # 访问静态urlSTATICFILES_DIRS = ( # 静态文件夹 os.path.join(BASE_DIR, &apos;static&apos;),) django xadmin 后台管理显示app中文 在每个app的apps.py的class后加入 verbose_name=&#39;中文app名&#39; 在__init__.py文件中加入default_app_config = &#39;&lt;app packagename&gt;.apps.&lt;app&gt;Config&#39; 常见问题 使用from django.views.generic import View创建post方法时怎么略过csrf_token验证 解决办法： 在class上加注解@method_decorator(csrf_exempt, name=’dispatch’) 怎么获取页面上POST上来的数组 request.POST.getlist(‘ids[]’, []),不要忘记[]","categories":[{"name":"框架","slug":"framework","permalink":"http://www.gowork.top/categories/framework/"}],"tags":[{"name":"django","slug":"django","permalink":"http://www.gowork.top/tags/django/"}]},{"title":"vue-cli 创建单页面应用","slug":"hello-vue-cli","date":"2017-11-15T13:23:20.000Z","updated":"2017-11-27T10:46:35.000Z","comments":true,"path":"hello-vue-cli/","link":"","permalink":"http://www.gowork.top/hello-vue-cli/","excerpt":"最近在做一个系统控制项目，主要是控制之前用c++写的系统（同一套部署多个服务器，操作不同数据），需要一个系统来控制这些服务器操作，所以想用前端使用vue-cli创建单页面项目，后端使用springboot做个中间控制器连接多台服务器。","text":"最近在做一个系统控制项目，主要是控制之前用c++写的系统（同一套部署多个服务器，操作不同数据），需要一个系统来控制这些服务器操作，所以想用前端使用vue-cli创建单页面项目，后端使用springboot做个中间控制器连接多台服务器。 安装使用npm进行安装（默认已经安装好nodejs） 1npm install --global vue-cli 使用vue-cli创建项目在你的工作目录命令行创建项目 12345678910111213141516vue init webpack &lt;projectname&gt;# 接下来或询问项目创建的信息Runtime + Compiler: recommended for most users 运行加编译Runtime-only: about 6KB lighter min+gzip, but templates (or any Vue-specificHTML) are ONLY allowed in .vue files - render functions are required elsewhere 仅运行时Install vue-router? (Y/n) 是否安装vue-router 官方路由，选择Y，输入Y即可Use ESLint to lint your code? (Y/n) 是否代码检查，新手选择n Standard (https://github.com/feross/standard) 标准的 AirBNB (https://github.com/airbnb/javascript) 最合理的，如果需要代码检查就选择此项 none (configure it yourself) 自定义 Setup unit tests with Karma + Mocha? (Y/n) 是否安装单元测试 Setup e2e tests with Nightwatch(Y/n)? 是否安装e2e测试# 进入项目安装模块cd &lt;projectname&gt; &amp; npm install# 运行项目npm run dev# 默认在8080端口打开，在浏览器上输入http://localhost:8080进行访问 项目结构单页面应用的项目必要三文件： 一个html文件：index.html 一个webpack打包时的文件：main.js 一个vue根组件，作为其他组件的挂载点：App.vue 123456789101112131415161718192021222324252627|-- build // 项目构建(webpack)相关代码| |-- build.js // 生产环境构建代码| |-- check-version.js // 检查node、npm等版本| |-- dev-client.js // 热重载相关| |-- dev-server.js // 构建本地服务器| |-- utils.js // 构建工具相关| |-- webpack.base.conf.js // webpack基础配置| |-- webpack.dev.conf.js // webpack开发环境配置| |-- webpack.prod.conf.js // webpack生产环境配置|-- config // 项目开发环境配置| |-- dev.env.js // 开发环境变量| |-- index.js // 项目一些配置变量| |-- prod.env.js // 生产环境变量| |-- test.env.js // 测试环境变量|-- src // 源码目录| |-- components // vue公共组件| |-- store // vuex的状态管理| |-- App.vue // 页面入口文件| |-- main.js // 程序入口文件，加载各种公共组件|-- static // 静态文件，比如一些图片，json数据等|-- .babelrc // ES6语法编译配置|-- .editorconfig // 定义代码格式|-- .gitignore // git上传需要忽略的文件格式|-- README.md // 项目说明|-- favicon.ico // 网站图标|-- index.html // 入口页面|-- package.json // 项目基本信息 使用vue-router 作为路由","categories":[{"name":"工具","slug":"tools","permalink":"http://www.gowork.top/categories/tools/"}],"tags":[{"name":"vue-cli","slug":"vue-cli","permalink":"http://www.gowork.top/tags/vue-cli/"}]},{"title":"python日期时间处理总结","slug":"python-datetime","date":"2017-11-11T08:37:09.000Z","updated":"2017-11-20T11:33:35.000Z","comments":true,"path":"python-datetime/","link":"","permalink":"http://www.gowork.top/python-datetime/","excerpt":"用了一段时间的django开发web项目，也是第一次用python来开发项目，所有有许多相关的知识点需要总结，本文所介绍的python的日期时间处理就是最近用到的，希望对各位有所帮助，也同时作为自己的笔记储存。","text":"用了一段时间的django开发web项目，也是第一次用python来开发项目，所有有许多相关的知识点需要总结，本文所介绍的python的日期时间处理就是最近用到的，希望对各位有所帮助，也同时作为自己的笔记储存。 Python 提供了time、 calendar、datetime 等模块用于处理日期和时间，较为常用的还是datetime模块。 时间间隔是以秒为单位的浮点小数。 每个时间戳都以自从1970年1月1日午夜（历元）经过了多长时间来表示。 python中时间日期格式化符号： %y 两位数的年份表示（00-99） %Y 四位数的年份表示（000-9999） %m 月份（01-12） %d 月内中的一天（0-31） %H 24小时制小时数（0-23） %I 12小时制小时数（01-12） %M 分钟数（00=59） %S 秒（00-59） %a 本地简化星期名称 %A 本地完整星期名称 %b 本地简化的月份名称 %B 本地完整的月份名称 %c 本地相应的日期表示和时间表示 %j 年内的一天（001-366） %p 本地A.M.或P.M.的等价符 %U 一年中的星期数（00-53）星期天为星期的开始 %w 星期（0-6），星期天为星期的开始 %W 一年中的星期数（00-53）星期一为星期的开始 %x 本地相应的日期表示 %X 本地相应的时间表示 %Z 当前时区的名称 %% %号本身 calendar获取年历 12# 返回一个多行字符串格式的year年年历，3个月一行，间隔距离为ccalendar.calendar(2017) 获取日历 123456789# 获取2017年11月日历&gt;&gt;&gt; print calendar.month(2017, 11) November 2017Mo Tu We Th Fr Sa Su 1 2 3 4 5 6 7 8 9 10 11 1213 14 15 16 17 18 1920 21 22 23 24 25 2627 28 29 30 获取一周一行的月日历 123# 获取2017年11月周日历集合&gt;&gt;&gt; print calendar.monthcalendar(2017,11)[[0, 0, 1, 2, 3, 4, 5], [6, 7, 8, 9, 10, 11, 12], [13, 14, 15, 16, 17, 18, 19], [20, 21, 22, 23, 24, 25, 26], [27, 28, 29, 30, 0, 0, 0]] 获取日期为星期几 123# 获取2017年11月11日是星期几(0-6代表星期一到星期日)&gt;&gt;&gt; print calendar.weekday(2017,11,11)5 datetime获取当前日期时间 1234567891011# 获取当前时间(datetime类型)&gt;&gt;&gt; print datetime.datetime.now()2017-11-11 17:21:56.076882# 获取当前日期&gt;&gt;&gt; print datetime.datetime.now().date()2017-11-11&gt;&gt;&gt; print datetime.date.today()2017-11-11# 获取当前时间的字符串&gt;&gt;&gt; print datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")'2017-11-11 17:21:56' 获取当前日期的后几天/前几天 12345678910# 获取明天&gt;&gt;&gt; print datetime.date.today() + datetime.timedelta(days=1)2017-11-12&gt;&gt;&gt; print datetime.date.today() + datetime.timedelta(1)2017-11-12# 获取昨天&gt;&gt;&gt; print datetime.date.today() - datetime.timedelta(days=1)2017-11-10&gt;&gt;&gt; print datetime.date.today() - datetime.timedelta(1)2017-11-10 获取本周/本月最后一天及第一天 1234567891011121314&gt;&gt;&gt; today = datetime.date.today()# 获取本周第一天&gt;&gt;&gt; print today - datetime.timedelta(today.weekday())2017-11-06# 获取本周最后一天&gt;&gt;&gt; print today + datetime.timedelta(6-today.weekday())2017-11-12# 获取本月第一天&gt;&gt;&gt; print datetime.date(today.year, today.month, 1)2017-11-01# 获取本月最后一天&gt;&gt;&gt; first_day_weekday, last_day_num = calendar.monthrange(today.year, today.month)&gt;&gt;&gt; print datetime.date(today.year, today.month, last_day_num)2017-11-30 获取当天最小时间/最大时间 123456# 获取当天最小时间&gt;&gt;&gt; print datetime.datetime.combine(datetime.date.today(), datetime.time.min)2017-11-11 00:00:00# 获取当天最大时间&gt;&gt;&gt; print datetime.datetime.combine(datetime.date.today(), datetime.time.max)2017-11-11 23:59:59.999999 time获取当前时间戳 12&gt;&gt;&gt; print time.time()1510396655.7 获取本地时间 12&gt;&gt;&gt; print time.localtime(time.time())time.struct_time(tm_year=2017, tm_mon=11, tm_mday=11, tm_hour=18, tm_min=13, tm_sec=57, tm_wday=5, tm_yday=315, tm_isdst=0) 获取格式化时间 12345678910# 格式化成%Y-%m-%d %H:%M:%S形式&gt;&gt;&gt; print time.strftime(\"%Y-%m-%d %H:%M:%S\", time.localtime()) 2017-11-11 18:58:39# 格式化成%a %b %d %H:%M:%S %Y形式&gt;&gt;&gt; print time.strftime(\"%a %b %d %H:%M:%S %Y\", time.localtime()) Mon Nov 11 18:58:40 2017# 将格式字符串转换为时间戳&gt;&gt;&gt; format_time = time.strptime(\"2017-11-11 18:58:39\", \"%Y-%m-%d %H:%M:%S\") &gt;&gt;&gt; print time.mktime(format_time)1510396712.0 各个之间格式之间的转换 datetime &lt;=&gt; date 1234567# datetime=&gt; date&gt;&gt;&gt; print datetime.datetime.now().date()2017-11-11# date =&gt; datetime&gt;&gt;&gt; today = datetime.date.today()&gt;&gt;&gt; print datetime.datetime.combine(today, datetime.time.min)2017-11-11 00:00:00 datetime &lt;=&gt; timestamp 123456# datetime =&gt; timestamp&gt;&gt;&gt; print time.mktime(datetime.datetime.now().timetuple())1510396755.0# timestamp =&gt; datetime&gt;&gt;&gt; print datetime.datetime.fromtimestamp(1510396755.0)2017-11-11 18:39:15 datetime &lt;=&gt; string 123456# datetime =&gt; string&gt;&gt;&gt; print datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")2017-11-11 18:39:15# string =&gt; datetime&gt;&gt;&gt; print datetime.datetime.strptime(\"2017-11-11 18:39:15\", \"%Y-%m-%d %H:%M:%S\")2017-11-11 18:39:15 datetime &lt;=&gt; timetuple 1234567# datetime =&gt; timetuple&gt;&gt;&gt; print datetime.datetime.now().timetuple()time.struct_time(tm_year=2017, tm_mon=11, tm_mday=11, tm_hour=18, tm_min=50, tm_sec=57, tm_wday=5, tm_yday=315, tm_isdst=0)# timetuple =&gt; datetime&gt;&gt;&gt; time_tuple = datetime.datetime.now().timetuple()&gt;&gt;&gt; print datetime.datetime.fromtimestamp(time.mktime(time_tuple))2017-11-11 18:50:35 ​","categories":[{"name":"python","slug":"python","permalink":"http://www.gowork.top/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.gowork.top/tags/python/"},{"name":"datetime","slug":"datetime","permalink":"http://www.gowork.top/tags/datetime/"}]},{"title":"在阿里云上安装配置shadowsocks","slug":"hello-shadowsocks","date":"2017-10-31T13:44:26.000Z","updated":"2017-11-02T08:50:34.000Z","comments":true,"path":"hello-shadowsocks/","link":"","permalink":"http://www.gowork.top/hello-shadowsocks/","excerpt":"防火墙日渐增强的，访问国外的技术性网站及google搜索越来越难，使用他人的shadowsocks，不仅贵而且网速不稳定，时不时地被封，所以就萌生了创建自己的shadowsocks服务器的想法。 最近（2017年10月）好像阿里云香港站的服务器搭建shadowsocks好像不能访问了，美国的服务器距离太远，选择亚洲的服务器是首选，东京的太贵，马来西亚的刚开好像也很贵，最近双十一新加坡的降价很多（由于观望了两天，比前几天贵了30），遂速度入手。","text":"防火墙日渐增强的，访问国外的技术性网站及google搜索越来越难，使用他人的shadowsocks，不仅贵而且网速不稳定，时不时地被封，所以就萌生了创建自己的shadowsocks服务器的想法。 最近（2017年10月）好像阿里云香港站的服务器搭建shadowsocks好像不能访问了，美国的服务器距离太远，选择亚洲的服务器是首选，东京的太贵，马来西亚的刚开好像也很贵，最近双十一新加坡的降价很多（由于观望了两天，比前几天贵了30），遂速度入手。 安装shadowsocks服务器12345# 安装pipyum install python-pip# 使用pip安装shadowsockspip install shadowsocks 配置Shdowsocks服务,并启动新建 /etc/shadowsocks.json 文件 1vi /etc/shadowsocks.json 根据情况填入内容如下： 单端口： 123456789&#123; \"server\":\"0.0.0.0\", --服务器IP，直接用0.0.0.0也可 \"server_port\":1080, --端口端口 \"local_address\": \"127.0.0.1\", --本地地址，可省略 \"local_port\":1080, --本地端口，可省略 \"password\":\"password\", --密码 \"timeout\":300, --超时时间，可省略 \"method\":\"aes-256-cfb\", --加密策略，有多重策略，具体自查&#125; ​ 多端口： 12345678910111213&#123; \"server\":\"0.0.0.0\", \"local_address\":\"127.0.0.1\", \"local_port\":1080, \"port_password\":&#123; --每个端口对应一个密码 \"1111\":\"password1\", \"1112\":\"password2\", \"1113\":\"password3\" &#125;, \"timeout\":300, \"method\":\"aes-256-cfb\", \"fast_open\":false&#125; 启动shadowsocks1ssserver -c /etc/shadowsocks.json -d start 安装shadowsocks客户端 mac、windows 安装地址 https://sourceforge.net/projects/shadowsocksgui android 安装地址： https://github.com/shadowsocks/shadowsocks-android 客户端配置菜单 -&gt; 服务器-&gt; 打开服务器设定 -&gt; 点击+进行添加服务器配置","categories":[{"name":"工具","slug":"tools","permalink":"http://www.gowork.top/categories/tools/"}],"tags":[{"name":"shadowsocks","slug":"shadowsocks","permalink":"http://www.gowork.top/tags/shadowsocks/"}]},{"title":"使用hexo框架创建个人博客","slug":"hello-hexo","date":"2017-10-31T07:45:11.000Z","updated":"2017-11-23T14:28:18.000Z","comments":true,"path":"hello-hexo/","link":"","permalink":"http://www.gowork.top/hello-hexo/","excerpt":"在各种博客上面写过文章，像CSDN、开源中国等，编辑器使用很不习惯，页面展示的样式也不是很好看，遂有了自己搭建个人博客的想法，google之后，发现hexo是一个不错的选择！","text":"在各种博客上面写过文章，像CSDN、开源中国等，编辑器使用很不习惯，页面展示的样式也不是很好看，遂有了自己搭建个人博客的想法，google之后，发现hexo是一个不错的选择！ 什么是 Hexo？Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。 安装###安装前提 安装node crul安装 1curl https://raw.github.com/creationix/nvm/master/install.sh | sh Wget: 1wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh nvm安装node 1nvm install stable ​ 安装git Windows：下载并安装 git. Mac：使用 Homebrew, MacPorts ：brew install git;或下载 安装程序 安装。 Linux (Ubuntu, Debian)：sudo apt-get install git-core Linux (Fedora, Red Hat, CentOS)：sudo yum install git-core 安装hexo1npm install -g hexo-cli 建站安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件 123hexo init &lt;folder&gt;cd &lt;folder&gt;npm install 执行完以上程序后，生成的目录如下： 1234567├── _config.yml # 网站的配置信息大部分都在这里├── package.json # 应用程序的信息├── scaffolds # 模板文件夹 应用程序会根据模板创建文件├── source # 用户资源文件，除_posts文件夹下的文件外其他文件夹的内容直接复制过去| ├── _drafts| └── _posts # 资源文件，文章就在此文件夹下└── themes # 主题文件夹，此文件夹下的每个目录是一个主题，会根据配置文件生成静态文件 草稿 对于还还没有编写完的文章不想显示在博客中，可以使用草稿来处理。 创建草稿 12# 以下命令会在source/_drafts目录下生成一个new-draft.md文件，但是该文件不会显示在博客页面中hexo new draft 'new draft' 本地预览 1hexo server --drafts 等完成后可以，可以将草稿变成文章 1hexo public [layout] &lt;filename&gt;","categories":[{"name":"工具","slug":"tools","permalink":"http://www.gowork.top/categories/tools/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://www.gowork.top/tags/hexo/"},{"name":"博客","slug":"blog","permalink":"http://www.gowork.top/tags/blog/"}]},{"title":"centos上创建git服务器","slug":"hello-git-repository","date":"2017-10-21T07:47:26.000Z","updated":"2017-11-02T09:01:27.000Z","comments":true,"path":"hello-git-repository/","link":"","permalink":"http://www.gowork.top/hello-git-repository/","excerpt":"一般开源的项目都会放在github上，私人的项目会放在开源中国的码云上，但是公司的项目还是放在自己服务器上比较稳妥，遂有了这篇自建git服务器的文章。","text":"一般开源的项目都会放在github上，私人的项目会放在开源中国的码云上，但是公司的项目还是放在自己服务器上比较稳妥，遂有了这篇自建git服务器的文章。 前要：此教程是在centos上创建git服务器 安装git1yum install git 创建git组及git用户123groupadd gitadduser git -g gitpasswd git &lt;password&gt; 将上面的修改为自己的密码为了安全起见，需要禁止git用户使用ssh登录，进行如下操作：在 /etc/passwd文件中，将git:x:&lt;id&gt;:&lt;id&gt;::/home/git:/bin/bash修改为git:x:&lt;id&gt;:&lt;id&gt;::/home/git:/sbin/nologin 创建证书登录收集所有需要登录git的用户公钥，公钥存放于用户的~/.ssh/id_rsa.pub文件上，打开此文件将每个人的公钥导入到git服务器的/home/git/.ssh/authorized_keys文件上 123mkdir .ssh cd .sshvi authorized_keys 使用vim将公钥导入到以上文件中 初始化git仓库在此将git用户根目录作为git仓库，先进入git用户根目录，创建一个空仓库，服务器上的git仓库通常以.git结尾 1git init --bare &lt;projectname&gt;.git 然后把仓库所属用户改为git 1chown -R git:git &lt;projectname&gt;.git 本地操作仓库clone到本地机型操作 1git clone git@&lt;ip&gt;:/home/git/&lt;projectname&gt;.git","categories":[{"name":"工具","slug":"tools","permalink":"http://www.gowork.top/categories/tools/"}],"tags":[{"name":"git","slug":"git","permalink":"http://www.gowork.top/tags/git/"}]}]}